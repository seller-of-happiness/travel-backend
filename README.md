# Travel Backend API

Backend API –¥–ª—è —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ NestJS —Å TypeORM –∏ PostgreSQL.

## –û–ø–∏—Å–∞–Ω–∏–µ

Travel Backend - —ç—Ç–æ REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏, —Ç–æ—á–∫–∞–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ä—à—Ä—É—Ç–∞—Ö —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –∏ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç—É.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Framework**: NestJS 10.x
- **Database**: PostgreSQL
- **ORM**: TypeORM
- **Documentation**: Swagger/OpenAPI
- **File Upload**: Multer + Sharp (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- **Language**: TypeScript

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üó∫Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- üìç –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
- üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–≤—å—é –∏ WebP –≤–µ—Ä—Å–∏–π)
- üîç REST API —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- üöÄ –ì–æ—Ç–æ–≤–∞—è –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main.ts                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ app.module.ts          # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îî‚îÄ‚îÄ interceptors/      # –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ route/            # –ú–æ–¥—É–ª—å –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ route.entity.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.service.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ route.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ point/            # –ú–æ–¥—É–ª—å —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ point.entity.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ points.controller.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ points.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ photo/            # –ú–æ–¥—É–ª—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ photo.entity.ts
‚îÇ       ‚îú‚îÄ‚îÄ photos.controller.ts
‚îÇ       ‚îî‚îÄ‚îÄ photos.service.ts
```

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Route (–ú–∞—Ä—à—Ä—É—Ç)

- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
- `cover` - –æ–±–ª–æ–∂–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (—Ñ–æ—Ç–æ)
- `points` - —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –≤ –º–∞—Ä—à—Ä—É—Ç–µ

### Point (–¢–æ—á–∫–∞ –∏–Ω—Ç–µ—Ä–µ—Å–∞)

- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `lat` - —à–∏—Ä–æ—Ç–∞
- `lng` - –¥–æ–ª–≥–æ—Ç–∞
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ—á–∫–∏
- `photos` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ—á–∫–∏
- `route` - –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –º–∞—Ä—à—Ä—É—Ç—É

### Photo (–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è)

- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `url` - URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `originalUrl` - URL –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `webpUrl` - URL WebP –≤–µ—Ä—Å–∏–∏
- `previewUrl` - URL –ø—Ä–µ–≤—å—é
- `point` - –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ —Ç–æ—á–∫–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- PostgreSQL 12+
- npm –∏–ª–∏ yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL:

```sql
CREATE DATABASE travel;
```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`):

```env
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=travel
PORT=3002
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

```bash
npm run start:dev
```

**–ü—Ä–æ–¥–∞–∫—à–µ–Ω —Å–±–æ—Ä–∫–∞:**

```bash
npm run build
npm start
```

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:3002/api/docs
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `GET /api/routes` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã
- `POST /api/routes` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç
- `GET /api/routes/:id` - –ø–æ–ª—É—á–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç –ø–æ ID
- `PUT /api/routes/:id` - –æ–±–Ω–æ–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç
- `DELETE /api/routes/:id` - —É–¥–∞–ª–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç

- `GET /api/points` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞
- `POST /api/points` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–æ—á–∫—É
- `GET /api/points/:id` - –ø–æ–ª—É—á–∏—Ç—å —Ç–æ—á–∫—É –ø–æ ID
- `PUT /api/points/:id` - –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ—á–∫—É
- `DELETE /api/points/:id` - —É–¥–∞–ª–∏—Ç—å —Ç–æ—á–∫—É

- `POST /api/photos/upload` - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
- `GET /api/photos/:id` - –ø–æ–ª—É—á–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –ø–æ ID
- `DELETE /api/photos/:id` - —É–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
